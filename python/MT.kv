#:kivy 1.10


<ParamSpinner>:
    text: self.param.choices[0]
    values: self.param.choices
    on_text: self.param.set_value(self.text)


<IntSliderTextBox>:
    cols: 2
    value: root.param.offset
    on_value: self.param.set_value(self.value)

    TextInput:
        id: t
        multiline: False
        text: str(root.value)
        on_text_validate: root.value = int(self.text)

    Slider:
        id: s
        min: root.param.offset
        max: root.param.offset + root.param.max
        step: 1
        value: root.value
        on_value: root.value = self.value

<ParamTextInput>:
    

<PitchEnvelope>:
    Label:
        text: "Hi"

<SystemLayout>:
    cols: 2

    Label:
        text: "Display"
    TextInput:
        text: root.params.display.value
        on_text: root.params.display.set_value(self.text)
        multiline: False

    Label:
        text: "Reverb Mode"
    ParamSpinner:
        param: root.params.system.reverb_mode

    Label:
        text: "Reverb Time"
    IntSliderTextBox:
        param: root.params.system.reverb_time

    # PitchEnvelope:
    #     params: root.params.timbre_memory.children[0].partial_param_1.pitch.envelope


# <TimbreLayout>:



<MainLayout>:
    do_default_tab: False

    TabbedPanelItem:
        text: 'System'
        SystemLayout:
            params: root.params

    TabbedPanelItem:
        text: 'Other'